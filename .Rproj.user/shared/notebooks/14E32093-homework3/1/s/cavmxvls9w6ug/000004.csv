"0",""
"0","##confidence intervals "
"0",""
"0","#defining new functions"
"0","sd_prop <- function(x,y) sqrt(x*(1-x)/y)"
"0","CI <- function(x,y,z) x + qnorm(z)*sd_prop(x,y)"
"0",""
"0",""
"0","sum_sample <- sum(yrbss_2$count)"
"0",""
"0",""
"0","yrbss_2_ci <- yrbss_2 %>%"
"0","              mutate(SD = sd_prop(prop, sum_sample), "
"0","                     CI_low = CI(prop, sum_sample, 0.025), "
"0","                    CI_high = CI(prop, sum_sample, 0.975), "
"0","                     CI_low_abs = CI_low*sum_sample, CI_high_abs = CI_high*sum_sample)"
"0",""
"0","yrbss_2_ci"
